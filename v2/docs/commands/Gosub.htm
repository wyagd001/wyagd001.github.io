<!DOCTYPE HTML>
<html lang="zh">
<head>
<title>Gosub - 语法 &amp; 使用 | AutoHotkey v2</title>
<meta name="description" content="The Gosub statement jumps to the specified label and continues execution until a Return statement is encountered." />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<link href="../static/theme.css" rel="stylesheet" type="text/css" />
<script src="../static/content.js" type="text/javascript"></script>
<script type="text/javascript">$(function(){0<=window.navigator.userAgent.toLowerCase().indexOf("ucbrowser")&&CaoNiMaDeUc()})</script>
</head>
<body>

<h1>Gosub</h1>

<p>跳转到指定的标签并继续执行, 直到遇到 <a href="Return.htm">Return</a>.</p>

<pre class="Syntax"><span class="func">Gosub</span> Label
<span class="func">Gosub</span>("Label")</pre>
<h2 id="Parameters">参数</h2>
<dl>

  <dt>Label</dt>
  <dd>
    <p>类型: <a href="../Concepts.htm#strings">字符串</a></p>
    <p>要跳转到的<a href="../misc/Labels.htm">标签</a>的名称, 这样会在遇到 Return 或 Exit 之前执行 <em>Label</em> 下的函数. <a href="Return.htm">&quot;Return&quot;</a> 会让脚本跳回到 Gosub 下的第一个函数并继续执行. <a href="Exit.htm">&quot;Exit&quot;</a> 终止<a href="../misc/Threads.htm">当前线程</a>.</p>
  </dd>

</dl>

<h2 id="Remarks">备注</h2>
<p>只有在使用括号时, <em>Label</em> 才可以是变量或表达式. 例如, <code>Gosub MySub</code> 和 <code>Gosub("MySub")</code> 都将执行 <code>MySub:</code> 子程序.</p>
<p>使用动态标签(即返回的变量或表达式作为标签名称) 时, 性能略有下降, 因为每次都必须 "查找" 目标标签, 而不是在首次加载脚本时只查找一次. 如果标签不存在, 将显示一个错误对话框. 为了避免这种情况, 请事先调用 <a href="IsLabel.htm">IsLabel</a>. 例如:</p>
<pre>if IsLabel(VarContainingLabelName)
    Gosub(VarContainingLabelName)</pre>
<p>虽然 Gosub 可用于简单, 普通用途的子程序, 不过对于更复杂的情况请考虑使用<a href="../Functions.htm">函数</a>.</p>

<h2 id="Related">相关</h2>
<p><a href="Return.htm">Return</a>, <a href="../Functions.htm">Functions</a>, <a href="IsLabel.htm">IsLabel</a>, <a href="Block.htm">Blocks</a>, <a href="Loop.htm">Loop</a>, <a href="Goto.htm">Goto</a></p>

<h2 id="Examples">示例</h2>
<div class="ex" id="ExBasic">
<p><a href="#ExBasic">#1</a></p>
<pre>Gosub Label1
MsgBox "The Label1 subroutine has returned (it is finished)."
return

Label1:
MsgBox "The Label1 subroutine is now running."
return</pre>
</div>

</body>
</html>